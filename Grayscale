#include <iostream>
#include "libs/Image_Class.h"
using namespace std;
void Gray(const string& input, const string& output) {
    Image image(input);
    for (int i = 0; i < image.width; ++i) {
        for (int j = 0; j < image.height; ++j) {
            unsigned char r = image(i, j, 0);
            unsigned char g = image(i, j, 1);
            unsigned char b = image(i, j, 2);

            unsigned char gray = (r + g + b) / 3;

            image(i, j, 0) = gray;
            image(i, j, 1) = gray;
            image(i, j, 2) = gray;
        }
    }
    image.saveImage(output);
}
int main() {
    string IN,OUT;
    cout << "Please enter the input image:" << endl;
    cin >> IN;
    cout << "Please enter the output image:" << endl;
    cin >> OUT;
    Gray(IN, OUT);
    return 0;
}
